<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>UNNUS ANNUS MUSICAE — Slides</title>

<style>
@font-face {
    font-family: 'Xanmono';
    src: url('fonts/Xanmono-Regular.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}

html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    font-family: system-ui, sans-serif;
    color: #fff;
}

canvas {
    position: fixed;
    inset: 0;
    z-index: -1;
}

#vignette {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -0.5;
    background: radial-gradient(
        ellipse at center,
        rgba(0,0,0,0) 45%,
        rgba(0,0,0,0.4) 70%,
        rgba(0,0,0,0.85) 100%
    );
}

#slides {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.slide {
    display: none;
    text-align: center;
    padding: 1.5rem 2rem;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(8px);
    border-radius: 18px;
    box-shadow: 0 30px 80px rgba(0, 0, 0, 0.9);
    max-width: 800px;
    width: 90%;
    animation: fadeIn 0.8s ease;
}

.slide.active {
    display: block;
}

.slide h1 {
    font-family: 'Xanmono', monospace;
    font-size: clamp(2rem, 5vw, 3rem);
    margin-bottom: 1rem;
    letter-spacing: 0.15em;
}

.slide p {
    font-size: 1.3rem;
    line-height: 1.7;
    opacity: 0.95;
}

ul {
    list-style-type: none;
    padding-left: 1.5rem;
}

ul li {
    font-size: 1.3rem;
}

ul li::before {
    content: "✦";
    color: #ffffff;
    display: inline-block;
    width: 1.2em;
    margin-left: -1.2em;
    font-size: 1.3rem;
}

@keyframes fadeIn {
    from { opacity: 0; transform: scale(0.98); }
    to { opacity: 1; transform: scale(1); }
}

#event-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: rgba(10, 10, 10, 0.92);
    backdrop-filter: blur(6px);
    border-top: 1px solid rgba(255,255,255,0.15);
    padding: 0.8rem 1rem;
    text-align: center;
    z-index: 1000;
}

#event-text {
    font-family: 'Xanmono', monospace;
    font-size: 1.1rem;
    letter-spacing: 0.12em;
    color: #ffffff;
}

#year-countdown {
    font-family: 'Xanmono', monospace;
    font-size: clamp(2rem, 5vw, 3rem);
    letter-spacing: 0.18em;
    margin-top: 1rem;
}
</style>
</head>
<body>

<canvas id="vortex"></canvas>
<div id="vignette"></div>

<div id="slides">

 
    <!-- Slide -->
    <div class="slide active" data-duration="8000">
        <h1><sub>UNNUS ANNUS</sub><br>MUSICAE</h1>
    </div>


    <!-- Slide -->
    <div class="slide" data-duration="10000" data-bg="rgba(80, 0, 0, 0.95)">
        <h1><sub><u>WARNING</u></sub><br>flashing lights</h1>
        <p>
	User settings can be found at spawn.
        </p>
    </div>

    <!-- Slide -->
	
    <div class="slide" data-duration="20000">
	<h1><sub>01/23</sub><br>FOUR</h1>
        <p>
		DOORS OPEN 8˸45PM CST<br>
		343˸03˸00˸00 - Stereo<br>
		343˸02˸00˸00 - FAINT<br>
		343˸01˸00˸00 - ATRYXUN<br>
		342˸24˸00˸00 - FunnelVision<br>
        </p>
    </div>

	
    <!-- Slide -->
    <div class="slide" data-duration="15000" data-bg="rgba(0, 40, 0, 0.95)">
        <h1>CHARITY</h1>
        <p>
            We are sponsoring a campaign for The Nature Conservancy, who prioritizes in tackling climate change, protecting the ocean, land & fresh water, and providing food and water through food system solutions.
Our goal is to raise $12,000 for the global environment by the end of this project!
        </p>
	<h3> Find the link at http://musicae.club/#charity </h3>
    </div>

    <!-- Slide -->
    <div class="slide" data-duration="15000" data-bg="rgba(0, 40, 0, 0.95)">
        <h1><small><small>CEEJAYFOXO'S<br>SAFE MOVE</small></small></h1>
        <p>CeeJayFoxo has been struggling to get by while hosting events for TTFC and its coming to the point where a scary deadline is approaching that could leave him and his dog homeless.
        We want help him as he has become such a great member of this community! Please donate and let CeeJay know you care about him!
        </p>
	<h3> Find the link at http://musicae.club/#charity </h3>
    </div>

    <!-- Year Countdown Slide S-->
    <div class="slide" data-duration="10000">
        <div id="year-countdown">---</div>
    </div>

    <!-- Slide -->
    <div class="slide active" data-duration="8000">
        <h1>THANK YOU<br><sup>FOR JOINING US</sup></h1>
        <p>
            A <b>medium</b> rated or better avatar is encouraged. <br>
			This world uses <i>VRCLightVolumes</i>. <br>
			Help us with immersion by using an avatar with updated materials.
        </p>
    </div>

    <!-- Slide 
    <div class="slide" data-duration="10000" data-bg="#861d27">
        <h1>TONIGHT</h1>
<img style="float: right;" src="assets/cacklecore_logo.png" width="20%">
<center>
    <br>
    <big><p>Cacklecore <i>(SapphicAwoo)</i> is <br>
	drinking for your donations!<br>
	Check out our Tiltify campaign for rewards! <br></big></p>

</center>

	
    </div>
-->

	
    <!-- Slide -->
    <div class="slide active" data-duration="8000" data-bg="rgba(0, 0, 40, 0.95)">
        <h1>PARTY RESPONSIBLY</h1>
        <p>
            <b>Know your limits, and remember to drink water.</b>
        </p>
    </div>	
	
    <!-- Slide -->
    <div class="slide" data-duration="10000">
        <h1>musicae.club</h1>
    </div>
	
    <!-- Slide -->
    <div class="slide" data-duration="10000">
        <h1>UAM.4159</h1>
        <p>
            JOIN OUR VRCHAT GROUP
        </p>
    </div>

</div>

<div id="event-banner">
    <span id="event-text">---</span>
</div>

<script>
/* ===== Globals ===== */
let slidePaused = false;
let slideIndex = 0;
let slideTimeout;
const slides = document.querySelectorAll(".slide");

/* ===== Vortex Background ===== */
const canvas = document.getElementById("vortex");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

let t = 0;
function drawVortex() {
    if (!slidePaused) t += 0.01;

    const w = canvas.width;
    const h = canvas.height;
    const cx = w/2, cy = h/2;
    const img = ctx.createImageData(w,h);
    const d = img.data;

    for(let y=0;y<h;y++){
        for(let x=0;x<w;x++){
            const dx=x-cx, dy=y-cy;
            const r=Math.sqrt(dx*dx+dy*dy);
            const a=Math.atan2(dy,dx);
            const v=Math.sin(a*4 + r*0.03 - t) >0?255:0;
            const i=(y*w+x)*4;
            d[i]=d[i+1]=d[i+2]=v;
            d[i+3]=255;
        }
    }
    ctx.putImageData(img,0,0);
    requestAnimationFrame(drawVortex);
}
drawVortex();

/* ===== Slide Functions ===== */
function showSlide(i){
    slides.forEach(s=>s.classList.remove("active"));
    slideIndex = ((i % slides.length)+slides.length)%slides.length;
    const slide = slides[slideIndex];
    slide.classList.add("active");
    const bg = slide.dataset.bg || "rgba(0,0,0,0.85)";
    slide.style.background = bg;

    if(slideTimeout) clearTimeout(slideTimeout);
    if(!slidePaused){
        const duration = Number(slide.dataset.duration)||8000;
        const gap = Number(slide.dataset.gap)||0;
        slideTimeout = setTimeout(()=>showSlide(slideIndex+1), duration+gap);
    }
}
showSlide(0);

/* ===== Keyboard Controls ===== */
document.addEventListener("keydown", e=>{
    if(e.key==="ArrowRight") showSlide(slideIndex+1);
    else if(e.key==="ArrowLeft") showSlide(slideIndex-1);
    else if(e.key==="Escape"){
        const slidesEl = document.getElementById("slides");
        const bannerEl = document.getElementById("event-banner");
        slidesEl.style.display = slidesEl.style.display==="none"?"flex":"none";
        bannerEl.style.display = bannerEl.style.display==="none"?"block":"none";
    }
    else if(e.key===" "){
        e.preventDefault();
        slidePaused=!slidePaused;
        if(!slidePaused) showSlide(slideIndex);
        else if(slideTimeout) clearTimeout(slideTimeout);
    }
});

/* ===== Bottom Event Banner ===== */
const eventEl = document.getElementById("event-text");
function getNextFridayEvent(now){
    const utc = now.getTime()+now.getTimezoneOffset()*60000;
    const central = new Date(utc-6*3600000);
    const day = central.getDay();
    let daysUntilFriday = (5-day+7)%7;
    const eventStart = new Date(central);
    eventStart.setDate(central.getDate()+daysUntilFriday);
    eventStart.setHours(21,0,0,0);
    if(day===5 && central>=eventStart) daysUntilFriday=0;
    return eventStart;
}
function updateEventBanner(){
    const now = new Date();
    const eventStart = getNextFridayEvent(now);
    const eventEnd = new Date(eventStart);
    eventEnd.setHours(25,0,0,0);
    if(now>=eventStart && now<eventEnd){
        eventEl.textContent="EVENT IN PROGRESS";
        return;
    }
    const diff = eventStart-now;
    const s = Math.floor(diff/1000);
    const d=Math.floor(s/86400);
    const h=Math.floor((s%86400)/3600);
    const m=Math.floor((s%3600)/60);
    const sec = s%60;
    eventEl.textContent="NEXT EVENT "+
        String(d).padStart(2,"0")+":"+
        String(h).padStart(2,"0")+":"+
        String(m).padStart(2,"0")+":"+
        String(sec).padStart(2,"0");
}
updateEventBanner();
setInterval(updateEventBanner,1000);

/* ===== Year Countdown ===== */
const yearCountdownEl = document.getElementById("year-countdown");
const targetUTC = Date.UTC(2027,0,2,6,0,0); // Jan 2, 2027 00:00 US Central

function updateYearCountdown(){
    const diff = Math.max(0,targetUTC-Date.now());
    const s=Math.floor(diff/1000);
    yearCountdownEl.textContent=
        String(Math.floor(s/86400)).padStart(3,"0")+":"+
        String(Math.floor(s%86400/3600)).padStart(2,"0")+":"+
        String(Math.floor(s%3600/60)).padStart(2,"0")+":"+
        String(s%60).padStart(2,"0");
}
updateYearCountdown();
setInterval(updateYearCountdown,1000);
</script>

</body>
</html>
